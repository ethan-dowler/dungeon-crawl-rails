<%= link_to :back, class: "Button Button--icon Button--red" do %>
  <%= render "icons/back" %>
<% end %>

<%= render HeadingComponent.new(title: "#{character.name} - Lvl. #{character.level}") %>

<%#
  TODO: build an inventory UI
  Key Features:
    - add buttons
      - equip/unequip
      - drop (destroy)
      - mark as junk
      - use (for consumables)
    - add sorting/filtering by item type/slot
%>

<%= turbo_frame_tag "character_stats-#{character.id}" do %>
  <%= render CharacterStatsComponent.new(character) %>
<% end %>

<hr class="my-4" />

<%= render HeadingComponent.new(title: "Inventory") %>
<%# TODO: add sort/filter buttons based on equipment type, martial/magical, alphabetical %>

<%= render HeadingComponent.new(title: "Armor", tag: :h2) %>
<%# TODO: make each equipment section collapsible %>

<% character.inventory_items.armor.alphabetical.each do |inventory_item| %>
  <%= turbo_frame_tag "inventory_item-#{inventory_item.id}" do %>
    <%= render InventoryItemComponent.new(inventory_item) %>
  <% end %>
<% end %>

<%= render HeadingComponent.new(title: "Primary", tag: :h2) %>

<% character.inventory_items.primary.alphabetical.each do |inventory_item| %>
  <%= turbo_frame_tag "inventory_item-#{inventory_item.id}" do %>
    <%= render InventoryItemComponent.new(inventory_item) %>
  <% end %>
<% end %>

<%= render HeadingComponent.new(title: "Secondary", tag: :h2) %>

<% character.inventory_items.secondary.alphabetical.each do |inventory_item| %>
  <%= turbo_frame_tag "inventory_item-#{inventory_item.id}" do %>
    <%= render InventoryItemComponent.new(inventory_item) %>
  <% end %>
<% end %>

<%= render HeadingComponent.new(title: "Other", tag: :h2) %>

<% character.inventory_items.non_equipment.alphabetical.each do |inventory_item| %>
  <%= turbo_frame_tag "inventory_item-#{inventory_item.id}" do %>
    <%= render InventoryItemComponent.new(inventory_item) %>
  <% end %>
<% end %>

<%# TODO: make a "junk" flag, so players can mark and sell easily %>
<%#= render HeadingComponent.new(title: "Junk", tag: :h2) %>
